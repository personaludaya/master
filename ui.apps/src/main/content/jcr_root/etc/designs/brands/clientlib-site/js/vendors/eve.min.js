!function(e){var n,t,r="0.5.0",f="hasOwnProperty",i=/[\.\/]/,o=/\s*,\s*/,l="*",u=function(e,n){return e-n},s={n:{}},p=function(){for(var e=0,n=this.length;e<n;e++)if("undefined"!=typeof this[e])return this[e]},a=function(){for(var e=this.length;--e;)if("undefined"!=typeof this[e])return this[e]},c=Object.prototype.toString,v=String,h=Array.isArray||function(e){return e instanceof Array||"[object Array]"==c.call(e)};eve=function(e,r){var f,i=t,o=Array.prototype.slice.call(arguments,2),l=eve.listeners(e),s=0,c=[],v={},h=[],d=n;h.firstDefined=p,h.lastDefined=a,n=e,t=0;for(var g=0,y=l.length;g<y;g++)"zIndex"in l[g]&&(c.push(l[g].zIndex),l[g].zIndex<0&&(v[l[g].zIndex]=l[g]));for(c.sort(u);c[s]<0;)if(f=v[c[s++]],h.push(f.apply(r,o)),t)return t=i,h;for(g=0;g<y;g++)if(f=l[g],"zIndex"in f)if(f.zIndex==c[s]){if(h.push(f.apply(r,o)),t)break;do if(s++,f=v[c[s]],f&&h.push(f.apply(r,o)),t)break;while(f)}else v[f.zIndex]=f;else if(h.push(f.apply(r,o)),t)break;return t=i,n=d,h},eve._events=s,eve.listeners=function(e){var n,t,r,f,o,u,p,a,c=h(e)?e:e.split(i),v=s,d=[v],g=[];for(f=0,o=c.length;f<o;f++){for(a=[],u=0,p=d.length;u<p;u++)for(v=d[u].n,t=[v[c[f]],v[l]],r=2;r--;)n=t[r],n&&(a.push(n),g=g.concat(n.f||[]));d=a}return g},eve.separator=function(e){e?(e=v(e).replace(/(?=[\.\^\]\[\-])/g,"\\"),e="["+e+"]",i=new RegExp(e)):i=/[\.\/]/},eve.on=function(e,n){if("function"!=typeof n)return function(){};for(var t=h(e)?h(e[0])?e:[e]:v(e).split(o),r=0,f=t.length;r<f;r++)!function(e){for(var t,r=h(e)?e:v(e).split(i),f=s,o=0,l=r.length;o<l;o++)f=f.n,f=f.hasOwnProperty(r[o])&&f[r[o]]||(f[r[o]]={n:{}});for(f.f=f.f||[],o=0,l=f.f.length;o<l;o++)if(f.f[o]==n){t=!0;break}!t&&f.f.push(n)}(t[r]);return function(e){+e==+e&&(n.zIndex=+e)}},eve.f=function(e){var n=[].slice.call(arguments,1);return function(){eve.apply(null,[e,null].concat(n).concat([].slice.call(arguments,0)))}},eve.stop=function(){t=1},eve.nt=function(e){var t=h(n)?n.join("."):n;return e?new RegExp("(?:\\.|\\/|^)"+e+"(?:\\.|\\/|$)").test(t):t},eve.nts=function(){return h(n)?n:n.split(i)},eve.off=eve.unbind=function(e,n){if(!e)return void(eve._events=s={n:{}});var t=h(e)?h(e[0])?e:[e]:v(e).split(o);if(t.length>1)for(var r=0,u=t.length;r<u;r++)eve.off(t[r],n);else{t=h(e)?e:v(e).split(i);var p,a,c,r,u,d,g,y=[s];for(r=0,u=t.length;r<u;r++)for(d=0;d<y.length;d+=c.length-2){if(c=[d,1],p=y[d].n,t[r]!=l)p[t[r]]&&c.push(p[t[r]]);else for(a in p)p[f](a)&&c.push(p[a]);y.splice.apply(y,c)}for(r=0,u=y.length;r<u;r++)for(p=y[r];p.n;){if(n){if(p.f){for(d=0,g=p.f.length;d<g;d++)if(p.f[d]==n){p.f.splice(d,1);break}!p.f.length&&delete p.f}for(a in p.n)if(p.n[f](a)&&p.n[a].f){var x=p.n[a].f;for(d=0,g=x.length;d<g;d++)if(x[d]==n){x.splice(d,1);break}!x.length&&delete p.n[a].f}}else{delete p.f;for(a in p.n)p.n[f](a)&&p.n[a].f&&delete p.n[a].f}p=p.n}}},eve.once=function(e,n){var t=function(){return eve.off(e,t),n.apply(this,arguments)};return eve.on(e,t)},eve.version=r,eve.toString=function(){return"You are running Eve "+r},"undefined"!=typeof module&&module.exports?module.exports=eve:"function"==typeof define&&define.amd?define("eve",[],function(){return eve}):e.eve=eve}(this);